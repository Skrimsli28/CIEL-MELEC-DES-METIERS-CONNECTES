<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>QCM Orientation Stage</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f0f4f8;
      margin: 0;
      padding: 2rem;
      color: #333;
    }
    h1, h2 {
      text-align: center;
    }
    form {
      max-width: 800px;
      margin: 2rem auto;
      background: white;
      padding: 2rem;
      border-radius: 10px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    }
    .question {
      margin-bottom: 1.5rem;
    }
    label {
      display: block;
      margin: 0.4rem 0;
    }
    button {
      display: block;
      margin: 2rem auto;
      padding: 0.8rem 2rem;
      background: #004080;
      color: white;
      border: none;
      border-radius: 5px;
      font-size: 1rem;
      cursor: pointer;
    }
    #resultat {
      max-width: 600px;
      margin: 2rem auto;
      background: #dff0d8;
      padding: 1.5rem;
      border-radius: 10px;
      color: #2d602d;
      font-weight: bold;
      display: none;
    }
	@media screen and (max-width: 600px) {
  body {
    padding: 1rem;
  }

  h1, h2 {
    font-size: 1.2rem;
  }

  .question {
    margin-bottom: 1rem;
  }

  label {
    font-size: 0.95rem;
  }

  form {
    padding: 1rem;
  }

  button {
    width: 100%;
    font-size: 1rem;
    padding: 0.8rem;
  }

  .btn-fiches {
    display: block;
    width: 90%;
    margin: 1rem auto;
    text-align: center;
  }

  #resultat {
    font-size: 1rem;
    padding: 1rem;
  }
}
  </style>
</head>
<body>
  
  </div>
  <div style="text-align: center; margin-bottom: 2rem;">
    <a href="#qcmForm" style="background:#004080;color:white;padding:0.8rem 1.5rem;text-decoration:none;border-radius:6px;font-weight:bold;box-shadow:0 2px 5px rgba(0,0,0,0.2);font-size:1rem;">
      üß≠ Commencer le questionnaire d'orientation
    </a>
  </div>
  <h1>QCM d‚ÄôOrientation : Quel m√©tier est fait pour toi ?</h1>
  <form id="qcmForm"></form>
  <div id="resultat"></div>
  <script>
    const metiers = {
      reseau: "Technicien R√©seaux Informatiques",
      cyber: "Sp√©cialiste en Cybers√©curit√©",
      elec: "√âlectricien du B√¢timent",
      domo: "Domoticien / Smart Building",
      maint: "Technicien de Maintenance",
      iot: "Technicien IoT",
      auto: "Automaticien",
      electro: "Technicien √âlectronique"
    };

    const questions = [
      {
        q: "1. Tu pr√©f√®res travailler :",
        options: [
          { t: "Avec des c√¢bles, outils, mat√©riels √©lectriques", m: ["elec", "maint"] },
          { t: "Sur ordinateur, configurer ou diagnostiquer", m: ["reseau", "cyber"] },
          { t: "Sur des syst√®mes automatis√©s et connect√©s", m: ["domo", "iot", "auto"] }
        ]
      },
      {
        q: "2. Face √† un probl√®me, tu as tendance √† :",
        options: [
          { t: "Chercher l‚Äôorigine de la panne pour r√©parer", m: ["maint", "auto"] },
          { t: "V√©rifier la configuration r√©seau ou syst√®me", m: ["reseau", "cyber"] },
          { t: "Remplacer ou s√©curiser les √©quipements", m: ["elec", "maint"] }
        ]
      },
      // Questions 3 √† 20
{
  q: "3. Travailler en √©quipe, c‚Äôest pour toi :",
  options: [
    { t: "Essentiel, surtout sur les chantiers", m: ["elec", "domo", "maint"] },
    { t: "Utile, mais tu pr√©f√®res l‚Äôautonomie", m: ["cyber", "reseau", "iot"] },
    { t: "Indiff√©rent, tant que les objectifs sont clairs", m: ["auto", "electro"] }
  ]
},
{
  q: "4. Tu es le plus √† l‚Äôaise avec :",
  options: [
    { t: "Des outils, du mat√©riel √©lectrique ou m√©canique", m: ["elec", "maint"] },
    { t: "Un clavier, un routeur, un logiciel", m: ["reseau", "cyber"] },
    { t: "Un circuit imprim√© ou une carte programmable", m: ["electro", "iot"] }
  ]
},
{
  q: "5. Tu es plut√¥t du genre √† :",
  options: [
    { t: "Suivre une m√©thode √©tape par √©tape", m: ["auto", "maint"] },
    { t: "Exp√©rimenter par toi-m√™me", m: ["iot", "electro"] },
    { t: "Appliquer des r√®gles de s√©curit√© en priorit√©", m: ["cyber", "elec"] }
  ]
},
{
  q: "6. Ton environnement de travail id√©al :",
  options: [
    { t: "Un atelier ou une salle technique", m: ["electro", "auto", "maint"] },
    { t: "Un chantier ou un b√¢timent", m: ["elec", "domo"] },
    { t: "Un bureau ou un local serveur", m: ["reseau", "cyber"] }
  ]
},
{
  q: "7. Tu pr√©f√®res que ton travail ait un impact sur :",
  options: [
    { t: "Le confort d‚Äôun b√¢timent (lumi√®re, volets, capteurs)", m: ["domo", "elec"] },
    { t: "La s√©curit√© des donn√©es", m: ["cyber"] },
    { t: "Le bon fonctionnement d‚Äôune usine ou machine", m: ["auto", "maint"] }
  ]
},
{
  q: "8. Quand tu travailles, tu aimes :",
  options: [
    { t: "Voir un r√©sultat concret et imm√©diat", m: ["elec", "domo"] },
    { t: "R√©soudre des bugs ou anomalies logiques", m: ["reseau", "cyber"] },
    { t: "Tester et ajuster des syst√®mes", m: ["maint", "auto"] }
  ]
},
{
  q: "9. Tu veux apprendre √† :",
  options: [
    { t: "C√¢bler et s√©curiser un tableau √©lectrique", m: ["elec", "domo"] },
    { t: "Configurer un serveur ou un pare-feu", m: ["cyber", "reseau"] },
    { t: "Programmer une carte ou un microcontr√¥leur", m: ["iot", "electro"] }
  ]
},
{
  q: "10. Tu te vois travailler :",
  options: [
    { t: "Dans une entreprise industrielle", m: ["maint", "auto", "electro"] },
    { t: "Dans une PME d‚Äôinstallation ou de service", m: ["elec", "domo"] },
    { t: "Dans une structure informatique ou cybers√©curit√©", m: ["cyber", "reseau"] }
  ]
},
{
  q: "11. Tu appr√©cies particuli√®rement :",
  options: [
    { t: "Lire et interpr√©ter un sch√©ma technique", m: ["elec", "auto", "electro"] },
    { t: "Configurer des syst√®mes informatiques", m: ["reseau", "cyber"] },
    { t: "Installer des capteurs et objets connect√©s", m: ["iot", "domo"] }
  ]
},
{
  q: "12. Lors d‚Äôun projet, tu pr√©f√®res :",
  options: [
    { t: "Mettre en ≈ìuvre l'installation physique", m: ["elec", "domo", "maint"] },
    { t: "Tester et corriger le syst√®me avant mise en service", m: ["auto", "electro", "iot"] },
    { t: "Superviser et documenter les √©tapes", m: ["reseau", "cyber"] }
  ]
},
{
  q: "13. Tu aimerais d√©velopper :",
  options: [
    { t: "Ta pr√©cision manuelle et ton habilit√© technique", m: ["elec", "electro", "domo"] },
    { t: "Ta logique et ta compr√©hension des r√©seaux", m: ["reseau", "auto"] },
    { t: "Ton sens de l‚Äôanalyse et de la pr√©vention", m: ["cyber", "maint"] }
  ]
},
{
  q: "14. Lequel te ressemble le plus ?",
  options: [
    { t: "Observateur, rigoureux, appliqu√©", m: ["auto", "maint", "cyber"] },
    { t: "Curieux, bidouilleur, touche-√†-tout", m: ["iot", "electro"] },
    { t: "Dynamique, sociable, orient√© terrain", m: ["elec", "domo"] }
  ]
},
{
  q: "15. Quand tu parles de ton futur m√©tier, tu veux :",
  options: [
    { t: "Participer √† l‚Äô√©volution des b√¢timents intelligents", m: ["domo", "iot"] },
    { t: "Garantir la s√©curit√© des infrastructures", m: ["cyber", "reseau"] },
    { t: "Assurer le bon fonctionnement de syst√®mes critiques", m: ["maint", "auto"] }
  ]
},
{
  q: "16. Tu pr√©f√®res manipuler :",
  options: [
    { t: "Des logiciels, des scripts ou des configurations r√©seau", m: ["reseau", "cyber"] },
    { t: "Des √©quipements physiques (tournevis, multim√®tre, testeurs‚Ä¶)", m: ["elec", "maint"] },
    { t: "Des cartes Arduino, capteurs, circuits", m: ["iot", "electro"] }
  ]
},
{
  q: "17. Tu es int√©ress√© par :",
  options: [
    { t: "La domotique et les √©quipements connect√©s", m: ["domo", "iot"] },
    { t: "L‚Äô√©lectronique et les microcontr√¥leurs", m: ["electro", "auto"] },
    { t: "Les interventions techniques et la maintenance", m: ["maint", "elec"] }
  ]
},
{
  q: "18. Ton enseignant remarque que tu es :",
  options: [
    { t: "Minutieux et logique dans ton raisonnement", m: ["auto", "cyber"] },
    { t: "Autonome et d√©brouillard avec le mat√©riel", m: ["maint", "elec"] },
    { t: "Cr√©atif et curieux d‚Äôessayer de nouvelles choses", m: ["iot", "electro"] }
  ]
},
{
  q: "19. En entreprise, tu pr√©f√©rerais :",
  options: [
    { t: "Intervenir seul sur des syst√®mes √† s√©curiser ou configurer", m: ["cyber", "reseau"] },
    { t: "Travailler avec d‚Äôautres sur chantier ou atelier", m: ["elec", "domo", "maint"] },
    { t: "Proposer des id√©es pour am√©liorer ou automatiser un syst√®me", m: ["iot", "auto", "electro"] }
  ]
},
{
  q: "20. Dans un monde id√©al, tu aimerais :",
  options: [
    { t: "Cr√©er ou int√©grer des objets intelligents", m: ["iot", "domo"] },
    { t: "R√©soudre des pannes complexes", m: ["maint", "auto"] },
    { t: "Prot√©ger les syst√®mes contre les intrusions", m: ["cyber", "reseau"] }
  ]
}

    ];

    const form = document.getElementById("qcmForm");
    questions.forEach((q, i) => {
      const block = document.createElement("div");
      block.className = "question";
      const title = document.createElement("h2");
      title.textContent = q.q;
      block.appendChild(title);
      q.options.forEach((opt, j) => {
        const label = document.createElement("label");
        label.innerHTML = `<input type="radio" name="q${i}" value="${opt.m.join(',')}"> ${opt.t}`;
        block.appendChild(label);
      });
      form.appendChild(block);
    });

    const submit = document.createElement("button");
    submit.type = "submit";
    submit.textContent = "Voir mes r√©sultats";
    form.appendChild(submit);

    form.addEventListener("submit", function(e) {
      e.preventDefault();
      const scores = {};
      for (let key in metiers) scores[key] = 0;
      questions.forEach((_, i) => {
        const answer = document.querySelector(`input[name='q${i}']:checked`);
        if (answer) {
          answer.value.split(',').forEach(m => scores[m]++);
        }
      });

      const total = Object.values(scores).reduce((a, b) => a + b, 0);
      const resultats = Object.entries(scores)
        .map(([key, val]) => ({ metier: metiers[key], score: Math.round((val / total) * 100) }))
        .filter(r => r.score > 0)
        .sort((a, b) => b.score - a.score);

      const output = resultats.map(r => `${r.metier} : ${r.score} %`).join("<br>");
      const div = document.getElementById("resultat");
      div.innerHTML = `<h2>üîé R√©sultats</h2><p>${output}</p><div style='margin-top:1.5rem; text-align:center;'><button onclick='location.reload()' style='margin:0.5rem;padding:0.5rem 1rem;background:#ccc;border:none;border-radius:4px;'>üîÅ Recommencer le test</button> <a href='fiches.html' style='margin:0.5rem;padding:0.5rem 1rem;background:#004080;color:white;border:none;border-radius:4px;text-decoration:none;'>üìÇ Voir les fiches m√©tiers</a></div>`;
      div.style.display = "block";
      form.style.display = "none";
	  div.scrollIntoView({ behavior: 'smooth' });

    });
  </script>
</body>
</html>
